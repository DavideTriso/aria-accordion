!function(e){"use strict";function s(e,t,n){return e.is("[id]")||e.attr("id",t+n),e.attr("id")}function i(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey?!e.shiftKey||e.ctrlKey||e.altKey||e.metaKey?!1:"ctrl":"none"}function o(a,i){var o=this;o.element=e(a),o.settings=e.extend({},e.fn[t].defaultSettings,i),o.elementId=s(o.element,o.settings.accGroupIdPrefix,n),o.elements={acc:o.element.find("."+o.settings.accClass),heading:o.element.find("."+o.settings.headingClass),btn:o.element.find("."+o.settings.btnClass),collapse:o.element.find("."+o.settings.collapseClass),content:o.element.find("."+o.settings.contentClass)},o.elementsLenght=o.elements.acc.length,o.elementsStatus=[],o.init()}var t="ariaAccordion",n=0,a={aCs:"aria-controls",aEx:"aria-expanded",aHi:"aria-hidden",aLab:"aria-labelledby",aDi:"aria-disabled",r:"role",tbI:"tabindex",t:"true",f:"false"};e.extend(o.prototype,{init:function(){var i=this,o=i.element,l=i.elementId,c=i.elements,d=i.settings;c.acc.each(function(e){s(c.heading.eq(e),l+"__accordion-heading--",e),s(c.collapse.eq(e),l+"__accordion-collapse--",e),s(c.collapse.eq(e),l+"__accordion-btn--",e),c.btn.eq(e).attr(a.aCs,c.collapse.eq(e).attr("id")),c.collapse.eq(e).attr(a.aLab,c.heading.eq(e).attr("id"))}),"string"==typeof d.contentRole?c.content.attr(a.r,d.contentRole):Array.isArray(d.contentRole)&&c.content.each(function(t){e(this).attr(a.r,d.contentRole[t])}),d.expandOnPageLoad||d.expandOnlyOne?c.acc.each(function(e){e>0?i.hide(e):i.show(0)}):c.acc.each(function(e){i.hide(e)}),o.on("click."+t+"."+n,"."+d.btnClass,function(){i.toggleAnimate(c.btn.index(e(this)))}),d.keyboardNavigation&&o.on("keydown."+t+"."+n,function(e){i.keyboardNavigation(e)}),n+=1},toggleAnimate:function(e){var t=this,n=t.settings,a=t.elementsStatus;if(n.expandOnlyOne){if(a[e]===!0)return!1;t.slideUp(a.indexOf(!0)),t.slideDown(e)}else a[e]===!0?t.slideUp(e):t.slideDown(e)},toggleNoAnimate:function(e){var t=this,n=t.settings,a=t.elementsStatus;if(n.expandOnlyOne){if(a[e]===!0)return!1;t.hide(a.indexOf(!0)),t.show(e)}else a[e]===!0?t.hide(e):t.show(e)},updateElementStatus:function(e,t){this.elementsStatus[e]=t},keyboardNavigation:function(e){var t=this,n=t.settings,a=t.elements,s=a.btn,o=t.elementsLenght,l=t.element.find(":focus"),c=0,d=e.keyCode;if(l.is("."+n.btnClass)){if(c=s.index(l),"none"===i(e))switch(d){case 38:c>0&&s.eq(c-1).focus();break;case 40:o>c&&s.eq(c+1).focus();break;case 36:a.btn.eq(0).focus();break;case 35:s.eq(o-1).focus()}else if("ctrl"===i(e))switch(d){case 81:c>0&&s.eq(c-1).focus();break;case 87:o>c&&s.eq(c+1).focus()}}else if(l.closest("."+n.collapseClass).length>0&&"ctrl"===i(e))switch(c=a.collapse.index(l.closest("."+n.collapseClass)),d){case 81:s.eq(c).focus();break;case 87:o>c&&s.eq(c+1).focus()}},expand:function(e){var t=this,n=t.elements,s=t.settings;n.acc.eq(e).addClass(s.accExpandedClass),n.btn.eq(e).attr(a.aEx,a.t).addClass(s.btnExpandedClass),n.collapse.eq(e).attr(a.aHi,a.f).addClass(s.collapseExpandedClass),s.expandOnlyOne&&n.btn.eq(e).attr(a.aDi,a.t),t.updateElementStatus(e,!0)},collapse:function(e){var t=this,n=t.elements,s=t.settings;n.acc.eq(e).removeClass(s.accExpandedClass),n.btn.eq(e).attr(a.aEx,a.f).removeClass(s.btnExpandedClass),n.collapse.eq(e).attr(a.aHi,a.t).removeClass(s.collapseExpandedClass),s.expandOnlyOne&&t.elements.btn.eq(e).attr(a.aDi,a.f),t.updateElementStatus(e,!1)},slideDown:function(e){var t=this,n=t.settings;n.cssTransitions||t.elements.collapse.eq(e).stop().slideDown(n.slideSpeed,n.easing),t.expand(e)},slideUp:function(e){var t=this,n=t.settings;n.cssTransitions||t.elements.collapse.eq(e).stop().slideUp(n.slideSpeed,n.easing),t.collapse(e)},show:function(e){var t=this;t.settings.cssTransitions||t.elements.collapse.eq(e).show(),t.expand(e)},hide:function(e){var t=this;t.settings.cssTransitions||t.elements.collapse.eq(e).hide(),t.collapse(e)},methodCaller:function(t,n){var a=this,s=a.elementsStatus;switch("number"!=typeof n&&("string"==typeof n&&(n=e(n)),"object"==typeof n&&1===n.length&&n.hasClass(a.settings.accClass)&&1===n.closest(a.element).length&&(n=a.elements.acc.index(n))),t){case"toggleAnimate":a.toggleAnimate(n);break;case"toggleNoAnimate":a.toggleNoAnimate(n);break;case"slideDown":s[n]===!1&&a.toggleAnimate(n);break;case"slideUp":s[n]===!0&&a.toggleAnimate(n);break;case"show":s[n]===!0&&a.toggleNoAnimate(n);break;case"hide":s[n]===!0&&a.toggleNoAnimate(n)}}}),e.fn[t]=function(n,a){return this.each(function(){var s=this;e.data(s,"plugin_"+t)||"object"!=typeof n&&"undefined"!=typeof n?"string"==typeof n&&"undefined"!=typeof a&&e.data(s,"plugin_"+t).methodCaller(n,a):e.data(s,"plugin_"+t,new o(s,n))})},e.fn[t].defaultSettings={accGroupIdPrefix:"accordion-group--",accClass:"accordion-group__accordion",headingClass:"accordion-group__accordion-heading",btnClass:"accordion-group__accordion-btn",collapseClass:"accordion-group__accordion-collapse",contentClass:"accordion-group__accordion-content",contentRole:"document",slideSpeed:300,easing:"swing",cssTransitions:!1,expandedClass:"accordion-group__accordion_expanded",btnExpandedClass:"accordion-group__accordion-btn_expanded",collapseExpandedClass:"accordion-group__accordion-collapse_expanded",expandOnPageLoad:!0,expandOnlyOne:!1,keyboardNavigation:!0}}(jQuery);