!function(c){"use strict";function s(c,a,e){(void 0===c.id||""===c.id||null===c.id)&&(c.id=a+(e+1))}function i(c,a){c.hasClass(a)||c.addClass(a)}function d(c){var e=0,n=a.length,o=c.attr("id"),s={},i=0;for(e;n>e;e+=1)if(i=a[e][3].indexOf(o),-1!==i)return s.indexAccordionGroup=e,s.indexAccordion=i,s.accordionsLenght=a[e][3].length,s}function t(c){return c.shiftKey||c.ctrlKey||c.altKey||c.metaKey?!1:!0}var a=[],e={},n=0,o={aCs:"aria-controls",aEx:"aria-expanded",aHi:"aria-hidden",aSe:"aria-selected",aLab:"aria-labelledby",aMu:"aria-multiselectable",r:"role",tbI:"tabindex",t:"true",f:"false"};e.init=function(l,r){var f=c.extend({accClass:"accordion-group__accordion",accHeadClass:"accordion-group__accordion-head",accHeadingClass:"accordion-group__accordion-heading",accBtnClass:"accordion-group__accordion-btn",accCollapseClass:"accordion-group__accordion-collapse",accContentClass:"accordion-group__accordion-content",accContentRole:"document",fadeSpeed:300,accExpandedClass:"accordion-group__accordion_expanded",accBtnExpandedClass:"accordion-group__accordion-btn_expanded",accCollapseExpandedClass:"accordion-group__accordion-collapse_expanded",expandOnPageLoad:!0,expandOnlyOne:!1,keyInteraction:!0},l),p={group:r,acc:r.find("."+f.accClass),accHead:r.find("."+f.accHeadClass),accHeading:r.find("."+f.accHeadingClass),accBtn:r.find("."+f.accBtnClass),accCollapse:r.find("."+f.accCollapseClass),accContent:r.find("."+f.accContentClass)},u="",C=[],x=[],h=0,g=0;for(s(p.group[0],"accordion-",n),u=p.group.attr("id"),i(p.group,f.accGroupClass),g=p.acc.length,h;g>h;h+=1)s(p.acc[h],u+"__accordion-",h),s(p.accHeading[h],u+"__accordion-heading-",h),s(p.accBtn[h],u+"__accordion-btn-",h),s(p.accCollapse[h],u+"__accordion-collapse-",h),p.accBtn[h].setAttribute(o.aCs,p.accCollapse[h].id),p.accCollapse[h].setAttribute(o.aLab,p.accHeading[h].id),p.accCollapse[h].setAttribute(o.tbI,"0"),p.accContent[h].setAttribute(o.r,f.accContentRole),C.push(p.acc[h].id);x.push(u,p,f,C),a.push(x),f.expandOnPageLoad?p.acc.each(function(a){0===a?e.expand(d(c(this)),!1):e.collapse(d(c(this)),!1)}):p.acc.each(function(a){e.collapse(d(c(this)),!1)}),p.accBtn.on("accordion:toggle click",function(){var a=c(this),n="";f.expandOnlyOne&&!a.hasClass(f.accBtnExpandedClass)&&(n=p.group.find("."+f.accExpandedClass),n.length>0&&e.collapse(d(n),!0)),e.toggle(d(a.closest("."+f.accClass)))}),f.keyInteraction&&c(window).unbind("keydown").on("keydown",function(e){var n=e.keyCode,o=c(":focus"),s={},i={};if(t(e)===!0&&o.hasClass(f.accBtnClass))switch(s=d(o.closest("."+f.accClass)),i=a[s.indexAccordionGroup][1],n){case 38:0===s.indexAccordion?c(i.accBtn[s.accordionsLenght-1]).focus():c(i.accBtn[s.indexAccordion-1]).focus();break;case 40:s.indexAccordion===s.accordionsLenght-1?c(i.accBtn[0]).focus():c(i.accBtn[s.indexAccordion+1]).focus();break;case 36:c(i.accBtn[0]).focus();break;case 35:c(i.accBtn[s.accordionsLenght-1]).focus()}if(e.ctrlKey&&!e.shiftKey&&!e.metaKey&&!e.altKey&&(o.hasClass(f.accCollapseClass)||o.closest("."+f.accCollapseClass).length>0||o.hasClass(f.accBtnClass)))switch(s=d(o.closest("."+f.accClass)),i=a[s.indexAccordionGroup][1],n){case 81:0===s.indexAccordion?c(i.accBtn[s.accordionsLenght-1]).focus():c(i.accBtn[s.indexAccordion-1]).focus();break;case 87:s.indexAccordion===s.accordionsLenght-1?c(i.accBtn[0]).focus():c(i.accBtn[s.indexAccordion+1]).focus()}}),n+=1},e.expand=function(e,n){var s=a[e.indexAccordionGroup][1],i=a[e.indexAccordionGroup][2],d=c(s.accCollapse[e.indexAccordion]);c(s.acc[e.indexAccordion]).addClass(i.accExpandedClass),c(s.accBtn[e.indexAccordion]).addClass(i.accBtnExpandedClass).attr(o.aEx,o.t).attr(o.aSe,o.t),d.addClass(i.accCollapseExpandedClass).attr(o.aHi,o.f).attr(o.tbI,"0"),n?d.slideDown(i.fadeSpeed):d.show()},e.collapse=function(e,n){var s=a[e.indexAccordionGroup][1],i=a[e.indexAccordionGroup][2],d=c(s.accCollapse[e.indexAccordion]);c(s.acc[e.indexAccordion]).removeClass(i.accExpandedClass),c(s.accBtn[e.indexAccordion]).removeClass(i.accBtnExpandedClass).attr(o.aEx,o.f).attr(o.aSe,o.f),d.removeClass(i.accCollapseExpandedClass).attr(o.aHi,o.t).attr(o.tbI,"-1"),n?d.slideUp(i.fadeSpeed):d.hide()},e.toggle=function(n){c(a[n.indexAccordionGroup][1].acc[n.indexAccordion]).hasClass(a[n.indexAccordionGroup][2].accExpandedClass)?e.collapse(n,!0):e.expand(n,!0)},c.fn.ariaAccordion=function(a){("object"==typeof a||"undefined"==typeof a)&&this.each(function(){e.init(a,c(this))}),"expand"===a&&this.each(function(){e.expand(d(c(this)),!0)}),"show"===a&&this.each(function(){e.expand(d(c(this)),!1)}),"collapse"===a&&this.each(function(){e.collapse(d(c(this)),!0)}),"hide"===a&&this.each(function(){e.collapse(d(c(this)),!1)}),"toggle"===a&&this.each(function(){e.toggle(d(c(this)))})}}(jQuery);