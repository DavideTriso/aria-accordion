!function(e,t){"use strict";function l(e,t,n){return e.is("[id]")||e.attr("id",t+n),e.attr("id")}function o(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey?!e.shiftKey||e.ctrlKey||e.altKey||e.metaKey?!1:"ctrl":"none"}function d(t,i){var s=this;s.element=e(t),s.settings=e.extend({},e.fn[n].defaultSettings,i),s.elementId=l(s.element,s.settings.accGroupIdPrefix,a),s.elements={acc:s.element.find("."+s.settings.accClass),heading:s.element.find("."+s.settings.headingClass),btn:s.element.find("."+s.settings.btnClass),panel:s.element.find("."+s.settings.panelClass),content:s.element.find("."+s.settings.contentClass)},s.elementsLenght=s.elements.acc.length,s.elementsStatus=[],s.init()}var n="ariaAccordion",a=0,i={aCs:"aria-controls",aEx:"aria-expanded",aHi:"aria-hidden",aLab:"aria-labelledby",aDi:"aria-disabled",r:"role",tbI:"tabindex",t:"true",f:"false"},s=e(t);e.extend(d.prototype,{init:function(){var t=this,o=t.element,d=t.elementId,r=t.elements,c=t.settings;r.acc.each(function(e){l(r.heading.eq(e),d+"__accordion-heading--",e),l(r.panel.eq(e),d+"__accordion-panel--",e),l(r.btn.eq(e),d+"__accordion-btn--",e),r.btn.eq(e).attr(i.aCs,r.panel.eq(e).attr("id")),r.panel.eq(e).attr(i.aLab,r.heading.eq(e).attr("id"))}),"string"==typeof c.contentRole?r.content.attr(i.r,c.contentRole):Array.isArray(c.contentRole)&&r.content.each(function(t){e(this).attr(i.r,c.contentRole[t])}),c.expandOnPageLoad||c.expandOnlyOne?r.acc.each(function(e){e>0?t.slideUp(e,!1):t.slideDown(0,!1)}):r.acc.each(function(e){t.slideUp(e,!1)}),o.on("click."+n+"."+a,"."+c.btnClass,function(){t.toggle(r.btn.index(e(this)),!0)}),c.keyboardNavigation&&o.on("keydown."+n+"."+a,function(e){t.keyboardNavigation(e)}),s.trigger(n+".initialised",[t.element]),a+=1},toggle:function(e,t){var n=this,a=n.settings,i=n.elementsStatus;if(a.expandOnlyOne){if(i[e]===!0)return!1;n.slideUp(i.indexOf(!0),t),n.slideDown(e,t)}else i[e]===!0?n.slideUp(e,t):n.slideDown(e,t)},updateElementStatus:function(e,t){this.elementsStatus[e]=t},keyboardNavigation:function(e){var t=this,n=t.settings,a=t.elements,i=a.btn,s=t.elementsLenght,l=t.element.find(":focus"),d=0,r=e.keyCode;if(l.is("."+n.btnClass)){if(d=i.index(l),"none"===o(e))switch(r){case 38:d>0&&i.eq(d-1).focus();break;case 40:s>d&&i.eq(d+1).focus();break;case 36:a.btn.eq(0).focus();break;case 35:i.eq(s-1).focus()}else if("ctrl"===o(e))switch(r){case 81:d>0&&i.eq(d-1).focus();break;case 87:s>d&&i.eq(d+1).focus()}}else if(l.closest("."+n.panelClass).length>0&&"ctrl"===o(e))switch(d=a.panel.index(l.closest("."+n.panelClass)),r){case 81:i.eq(d).focus();break;case 87:s>d&&i.eq(d+1).focus()}},expand:function(e){var t=this,n=t.elements,a=t.settings;n.acc.eq(e).addClass(a.accExpandedClass),n.btn.eq(e).attr(i.aEx,i.t).addClass(a.btnExpandedClass),n.panel.eq(e).attr(i.aHi,i.f).addClass(a.panelExpandedClass),a.expandOnlyOne&&n.btn.eq(e).attr(i.aDi,i.t),t.updateElementStatus(e,!0)},collapse:function(e){var t=this,n=t.elements,a=t.settings;n.acc.eq(e).removeClass(a.accExpandedClass),n.btn.eq(e).attr(i.aEx,i.f).removeClass(a.btnExpandedClass),n.panel.eq(e).attr(i.aHi,i.t).removeClass(a.panelExpandedClass),a.expandOnlyOne&&t.elements.btn.eq(e).attr(i.aDi,i.f),t.updateElementStatus(e,!1)},slideDown:function(e,t){var a=this,i=a.settings,l=t?i.slideSpeed:0;i.cssTransitions||a.elements.panel.eq(e).stop().slideDown(l,i.easing),a.expand(e),s.trigger(n+".slideDown",[a.element,e])},slideUp:function(e,t){var a=this,i=a.settings,l=t?i.slideSpeed:0;i.cssTransitions||a.elements.panel.eq(e).stop().slideUp(l,i.easing),a.collapse(e),s.trigger(n+".slideUp",[a.element,e])},methodCaller:function(t,n){var a=this;a.elementsStatus;switch("number"!=typeof n&&("string"==typeof n&&(n=e(n)),"object"==typeof n&&1===n.length&&n.hasClass(a.settings.accClass)&&1===n.closest(a.element).length&&(n=a.elements.acc.index(n))),t){case"toggle":a.toggle(n,!0);break;case"toggleNoAnimate":a.toggle(n,!1)}}}),e.fn[n]=function(t,a){return this.each(function(){var i=this;e.data(i,"plugin_"+n)||"object"!=typeof t&&"undefined"!=typeof t?"string"==typeof t&&"undefined"!=typeof a&&e.data(i,"plugin_"+n).methodCaller(t,a):e.data(i,"plugin_"+n,new d(i,t))})},e.fn[n].defaultSettings={accGroupIdPrefix:"accordion-group--",accClass:"accordion-group__accordion",headingClass:"accordion-group__accordion-heading",btnClass:"accordion-group__accordion-btn",panelClass:"accordion-group__accordion-panel",contentClass:"accordion-group__accordion-content",contentRole:"document",slideSpeed:300,easing:"swing",cssTransitions:!1,expandedClass:"accordion-group__accordion_expanded",btnExpandedClass:"accordion-group__accordion-btn_expanded",panelExpandedClass:"accordion-group__accordion-panel_expanded",expandOnPageLoad:!0,expandOnlyOne:!1,keyboardNavigation:!0}}(jQuery,window);