!function(e,n){"use strict";function l(e,n,t){return e.is("[id]")||e.attr("id",n+t),e.attr("id")}function o(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey?!e.shiftKey||e.ctrlKey||e.altKey||e.metaKey?!1:"ctrl":"none"}function c(n,s){var i=this;i.element=e(n),i.settings=e.extend({},e.fn[t].defaultSettings,s),i.elementId=l(i.element,i.settings.accGroupIdPrefix,a),i.elements={acc:i.element.find("."+i.settings.accClass),heading:i.element.find("."+i.settings.headingClass),btn:i.element.find("."+i.settings.btnClass),panel:i.element.find("."+i.settings.panelClass),content:i.element.find("."+i.settings.contentClass)},i.elementsLenght=i.elements.acc.length,i.elementsStatus=[],i.init()}var t="ariaAccordion",a=0,s={aCs:"aria-controls",aEx:"aria-expanded",aHi:"aria-hidden",aLab:"aria-labelledby",aDi:"aria-disabled",r:"role",tbI:"tabindex",t:"true",f:"false"},i=e(n);e.extend(c.prototype,{init:function(){var n=this,o=n.element,c=n.elementId,d=n.elements,r=n.settings;d.acc.each(function(e){l(d.heading.eq(e),c+"__accordion-heading--",e),l(d.panel.eq(e),c+"__accordion-panel--",e),l(d.btn.eq(e),c+"__accordion-btn--",e),d.btn.eq(e).attr(s.aCs,d.panel.eq(e).attr("id")),d.panel.eq(e).attr(s.aLab,d.heading.eq(e).attr("id"))}),"string"==typeof r.contentRole?d.content.attr(s.r,r.contentRole):Array.isArray(r.contentRole)&&d.content.each(function(n){e(this).attr(s.r,r.contentRole[n])}),r.expandOnPageLoad||r.expandOnlyOne?d.acc.each(function(e){e>0?n.slideUp(e,!1):n.slideDown(0,!1)}):d.acc.each(function(e){n.slideUp(e,!1)}),o.on("click."+t+"."+a,"."+r.btnClass,function(){n.toggle(d.btn.index(e(this)),!0)}),r.keyboardNavigation&&o.on("keydown."+t+"."+a,function(e){n.keyboardNavigation(e)}),i.trigger(t+".initialised",[n]),a+=1},toggle:function(e,n){var t=this,a=t.settings,s=t.elementsStatus;if(a.expandOnlyOne){if(s[e]===!0)return!1;t.slideUp(s.indexOf(!0),n),t.slideDown(e,n)}else s[e]===!0?t.slideUp(e,n):t.slideDown(e,n)},updateElementStatus:function(e,n){this.elementsStatus[e]=n},keyboardNavigation:function(e){var n=this,t=n.settings,a=n.elements,s=a.btn,i=n.elementsLenght,l=n.element.find(":focus"),c=0,d=e.keyCode;if(l.is("."+t.btnClass)){if(c=s.index(l),"none"===o(e))switch(d){case 38:c>0&&(s.eq(c-1).focus(),e.preventDefault());break;case 40:i>c&&(s.eq(c+1).focus(),e.preventDefault());break;case 36:a.btn.eq(0).focus();break;case 35:s.eq(i-1).focus()}else if("ctrl"===o(e))switch(d){case 81:c>0&&s.eq(c-1).focus();break;case 87:i>c&&s.eq(c+1).focus()}}else if(l.closest("."+t.panelClass).length>0&&"ctrl"===o(e))switch(c=a.panel.index(l.closest("."+t.panelClass)),d){case 81:s.eq(c).focus();break;case 87:i>c&&s.eq(c+1).focus()}},expand:function(e){var n=this,t=n.elements,a=n.settings;t.acc.eq(e).addClass(a.accExpandedClass),t.btn.eq(e).attr(s.aEx,s.t).addClass(a.btnExpandedClass),t.panel.eq(e).attr(s.aHi,s.f).addClass(a.panelExpandedClass),a.expandOnlyOne&&t.btn.eq(e).attr(s.aDi,s.t),n.updateElementStatus(e,!0)},collapse:function(e){var n=this,t=n.elements,a=n.settings;t.acc.eq(e).removeClass(a.accExpandedClass),t.btn.eq(e).attr(s.aEx,s.f).removeClass(a.btnExpandedClass),t.panel.eq(e).attr(s.aHi,s.t).removeClass(a.panelExpandedClass),a.expandOnlyOne&&n.elements.btn.eq(e).attr(s.aDi,s.f),n.updateElementStatus(e,!1)},slideDown:function(e,n){var a=this,s=a.settings,l=n?s.slideSpeed:0;s.cssTransitions||a.elements.panel.eq(e).stop().slideDown(l,s.easing),a.expand(e),i.trigger(t+".slideDown",[a,e])},slideUp:function(e,n){var a=this,s=a.settings,l=n?s.slideSpeed:0;s.cssTransitions||a.elements.panel.eq(e).stop().slideUp(l,s.easing),a.collapse(e),i.trigger(t+".slideUp",[a,e])},methodCaller:function(n,t){var a=this;a.elementsStatus;switch("number"!=typeof t&&("string"==typeof t&&(t=e(t)),"object"==typeof t&&1===t.length&&t.hasClass(a.settings.accClass)&&1===t.closest(a.element).length&&(t=a.elements.acc.index(t))),n){case"toggle":a.toggle(t,!0);break;case"toggleNoAnimate":a.toggle(t,!1)}}}),e.fn[t]=function(n,a){return this.each(function(){var s=this;e.data(s,"plugin_"+t)||"object"!=typeof n&&"undefined"!=typeof n?"string"==typeof n&&"undefined"!=typeof a&&e.data(s,"plugin_"+t).methodCaller(n,a):e.data(s,"plugin_"+t,new c(s,n))})},e.fn[t].defaultSettings={accGroupIdPrefix:"accordion-group--",accClass:"accordion-group__accordion",headingClass:"accordion-group__accordion-heading",btnClass:"accordion-group__accordion-btn",panelClass:"accordion-group__accordion-panel",contentClass:"accordion-group__accordion-content",contentRole:"document",slideSpeed:300,easing:"swing",cssTransitions:!1,expandedClass:"accordion-group__accordion_expanded",btnExpandedClass:"accordion-group__accordion-btn_expanded",panelExpandedClass:"accordion-group__accordion-panel_expanded",expandOnPageLoad:!0,expandOnlyOne:!1,keyboardNavigation:!0}}(jQuery,window);