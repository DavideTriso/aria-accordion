!function(e){"use strict";function s(e,n,t){return e.is("[id]")||e.attr("id",n+t),e.attr("id")}function i(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey?!e.shiftKey||e.ctrlKey||e.altKey||e.metaKey?!1:"ctrl":"none"}function l(a,i){var l=this;l.element=e(a),l.settings=e.extend({},e.fn[n].defaultSettings,i),l.elementId=s(l.element,l.settings.accGroupIdPrefix,t),l.elements={acc:l.element.find("."+l.settings.accClass),heading:l.element.find("."+l.settings.headingClass),btn:l.element.find("."+l.settings.btnClass),panel:l.element.find("."+l.settings.panelClass),content:l.element.find("."+l.settings.contentClass)},l.elementsLenght=l.elements.acc.length,l.elementsStatus=[],l.init()}var n="ariaAccordion",t=0,a={aCs:"aria-controls",aEx:"aria-expanded",aHi:"aria-hidden",aLab:"aria-labelledby",aDi:"aria-disabled",r:"role",tbI:"tabindex",t:"true",f:"false"};e.extend(l.prototype,{init:function(){var i=this,l=i.element,o=i.elementId,c=i.elements,d=i.settings;c.acc.each(function(e){s(c.heading.eq(e),o+"__accordion-heading--",e),s(c.panel.eq(e),o+"__accordion-panel--",e),s(c.btn.eq(e),o+"__accordion-btn--",e),c.btn.eq(e).attr(a.aCs,c.panel.eq(e).attr("id")),c.panel.eq(e).attr(a.aLab,c.heading.eq(e).attr("id"))}),"string"==typeof d.contentRole?c.content.attr(a.r,d.contentRole):Array.isArray(d.contentRole)&&c.content.each(function(n){e(this).attr(a.r,d.contentRole[n])}),d.expandOnPageLoad||d.expandOnlyOne?c.acc.each(function(e){e>0?i.slideUp(e,!1):i.slideDown(0,!1)}):c.acc.each(function(e){i.slideUp(e,!1)}),l.on("click."+n+"."+t,"."+d.btnClass,function(){i.toggle(c.btn.index(e(this)),!0)}),d.keyboardNavigation&&l.on("keydown."+n+"."+t,function(e){i.keyboardNavigation(e)}),t+=1},toggle:function(e,n){var t=this,a=t.settings,s=t.elementsStatus;if(a.expandOnlyOne){if(s[e]===!0)return!1;t.slideUp(s.indexOf(!0),n),t.slideDown(e,n)}else s[e]===!0?t.slideUp(e,n):t.slideDown(e,n)},updateElementStatus:function(e,n){this.elementsStatus[e]=n},keyboardNavigation:function(e){var n=this,t=n.settings,a=n.elements,s=a.btn,l=n.elementsLenght,o=n.element.find(":focus"),c=0,d=e.keyCode;if(o.is("."+t.btnClass)){if(c=s.index(o),"none"===i(e))switch(d){case 38:c>0&&s.eq(c-1).focus();break;case 40:l>c&&s.eq(c+1).focus();break;case 36:a.btn.eq(0).focus();break;case 35:s.eq(l-1).focus()}else if("ctrl"===i(e))switch(d){case 81:c>0&&s.eq(c-1).focus();break;case 87:l>c&&s.eq(c+1).focus()}}else if(o.closest("."+t.panelClass).length>0&&"ctrl"===i(e))switch(c=a.panel.index(o.closest("."+t.panelClass)),d){case 81:s.eq(c).focus();break;case 87:l>c&&s.eq(c+1).focus()}},expand:function(e){var n=this,t=n.elements,s=n.settings;t.acc.eq(e).addClass(s.accExpandedClass),t.btn.eq(e).attr(a.aEx,a.t).addClass(s.btnExpandedClass),t.panel.eq(e).attr(a.aHi,a.f).addClass(s.panelExpandedClass),s.expandOnlyOne&&t.btn.eq(e).attr(a.aDi,a.t),n.updateElementStatus(e,!0)},collapse:function(e){var n=this,t=n.elements,s=n.settings;t.acc.eq(e).removeClass(s.accExpandedClass),t.btn.eq(e).attr(a.aEx,a.f).removeClass(s.btnExpandedClass),t.panel.eq(e).attr(a.aHi,a.t).removeClass(s.panelExpandedClass),s.expandOnlyOne&&n.elements.btn.eq(e).attr(a.aDi,a.f),n.updateElementStatus(e,!1)},slideDown:function(e,n){var t=this,a=t.settings,s=n?a.slideSpeed:0;a.cssTransitions||t.elements.panel.eq(e).stop().slideDown(s,a.easing),t.expand(e)},slideUp:function(e,n){var t=this,a=t.settings,s=n?a.slideSpeed:0;a.cssTransitions||t.elements.panel.eq(e).stop().slideUp(s,a.easing),t.collapse(e)},methodCaller:function(n,t){var a=this;a.elementsStatus;switch("number"!=typeof t&&("string"==typeof t&&(t=e(t)),"object"==typeof t&&1===t.length&&t.hasClass(a.settings.accClass)&&1===t.closest(a.element).length&&(t=a.elements.acc.index(t))),n){case"toggle":a.toggle(t,!0);break;case"toggleNoAnimate":a.toggle(t,!1)}}}),e.fn[n]=function(t,a){return this.each(function(){var s=this;e.data(s,"plugin_"+n)||"object"!=typeof t&&"undefined"!=typeof t?"string"==typeof t&&"undefined"!=typeof a&&e.data(s,"plugin_"+n).methodCaller(t,a):e.data(s,"plugin_"+n,new l(s,t))})},e.fn[n].defaultSettings={accGroupIdPrefix:"accordion-group--",accClass:"accordion-group__accordion",headingClass:"accordion-group__accordion-heading",btnClass:"accordion-group__accordion-btn",panelClass:"accordion-group__accordion-panel",contentClass:"accordion-group__accordion-content",contentRole:"document",slideSpeed:300,easing:"swing",cssTransitions:!1,expandedClass:"accordion-group__accordion_expanded",btnExpandedClass:"accordion-group__accordion-btn_expanded",panelExpandedClass:"accordion-group__accordion-panel_expanded",expandOnPageLoad:!0,expandOnlyOne:!1,keyboardNavigation:!0}}(jQuery);